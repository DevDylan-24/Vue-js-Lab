<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script> 
    <title>Pet Store</title>
    <link rel="stylesheet" href="style.css">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    
</head>
<body>
    <div id="webstore">
       <h1 style="text-align: center;"> {{message}} </h1>
       <header>
        <button id="" @click="displayCheckout"><span><i class="fa-solid fa-cart-shopping"></i></span> Checkout {{ cartItemCount}}</button>
       </header>
        
       <main>
        <figure>
            <div v-if="showCheckout">
                <h2 id="title">Welcome to the Checkout Page</h2>
                <!-- <p>Your total is Rs {{ TotalPrice }}</p>
                <p v-if="cart.length === 0">Your cart is empty</p>
                <ul v-else>
                    <li v-for="item in cart" :key="item">Product ID: {{item}}</li>
                </ul> -->
                <form>
                    <p>
                        <strong>First Name:</strong>
                        <!-- This input field is bound to 'firstName' in the 'order' object -->
                        <input v-model.trim="order.firstName"/>
                    </p>
                    <p>
                        <strong>Last Name:</strong>
                        <!-- This input field is bound to 'lastName' in the 'order' object -->
                        <input v-model.trim="order.lastName"/>
                    </p>
                    <p>
                        <strong>Address:</strong> <input v-model.trim="order.address"/>
                    </p>
                    <p>
                        <strong>City:</strong> <input v-model.trim="order.city"/>
                    </p>
                    <p>
                        <strong>State:</strong>
                        <select v-model="order.state">
                            <option disabled value="">State</option>
                            <option v-for="(state, key) in states" v-bind:value="state">
                            {{key}}
                            </option>
                        </select>
                    </p>
                    <p>
                        <strong>Zip/Postal Code:</strong> <input v-model.number="order.zip"/>
                    </p>
                    <input type="checkbox" id="gift" value="true" v-model="order.gift" v-bind:true-value="order.sendGift" v-bind:false-value="order.dontSendGift">
                    <label for="gift">Ship As Gift?</label>
                    </p>
                    <p>
                        <input type="radio" id="home" value="Home" v-model="order.method">
                        <label for="home">Home</label>
                        <input type="radio" id="business" value="Business" v-model="order.method">
                        <label for="business">Business</label>
                    </p>
                        <h2 id="title">Order Information</h2>
                        <hr>    
                        <p>First Name: {{order.firstName}}</p>
                        <p>Last Name: {{order.lastName}}</p>
                        <p>Address: {{order.address}}</p>
                        <p>City: {{order.city}}</p>
                        <p>Zip: {{order.zip}}</p>
                        <p>State: {{order.state}}</p>
                        <p>Gift? : {{ order.gift }}</p>
                        <p>Shipping Method: {{order.method}}</p>
                        <p>Your total is Rs {{ TotalPrice }}</p>
                      
                        <button @click="submitForm"> Place order</button>
                </form>
            </div>
            <div v-else style="text-align: center;">
                 <img v-bind:src="product.image" alt="Cat Image">
                <h2 v-text="product.title" ></h2>
                <p v-text="product.id"> </p>
                <p v-text="product.description"></p>
                <p>Price: {{product.price}} </p>
                <button @click="addToCart" id="add-to-cart-button">Add to cart</button>

            </div>
         
        </figure>
       </main>
         <div>
    </div>
<script>
    let webstore = new Vue({
        el: '#webstore',
        data:{
                order: {
                firstName: '',
                lastName: '',
                address: '',
                city: '',
                zip: '',
                state: '',
                gift: '',
                method: 'Home',
                sendGift:'Send as a gift',
                dontSendGift:'Do not send as a gift'
            },
            states: {
                AL: 'Alabama',
                AR: 'Arizona',
                CA: 'California',
                NV: 'Nevada'
            },
            message: 'Welcome to my Pet Store !!!!',
            product:{
                id: 1001,
                title:'Cat Food 25 lb bag',
                description:'Irresistible cat food for your cat',
                price:2000,
                image:'images/product-fullsize.png',
                inventory: 10
            },
            cart:[],
            showCheckout: false
        },
        methods: {
            addToCart(){
                if(this.product.inventory === 0){
                    alert("out of stock");
                }else{
                    this.cart.push(this.product.id);
                    this.product.inventory--;
                    console.log(this.cart);
                }

            },
            displayCheckout(){
                this.showCheckout = !this.showCheckout;
               
            },
            submitForm(){
                alert("Order Submitted Successfully");
            }
            
        },
        computed:{
            cartItemCount(){
                return this.cart.length;
            },
            TotalPrice(){
                return (this.cart.length * this.product.price).toFixed(2);
            }
        }
    });
</script> 
</body>
</html>